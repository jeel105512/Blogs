<% 
    let action = "" ;
    let firstName="" ; 
    let lastName="" ; 
    let nickName="" ; 
    let email="" ; 
    let avatar="" ; 
    let method="post" ;
    if(typeof user !=="undefined" )
    { 
        action=`/${user.id}`;
        firstName = user.firstName;
        lastName = user.lastName;
        nickName = user.nickName;
        email = user.email;
        avatar = user.avatar;
        method="put" ; 
    } 
%>

    <form action="/users<%= action %>" method="post" class="mt-3" enctype="multipart/form-data">
        <!-- hidden input to receive the type of method/http verb in the app middleware where we created a middleware to use all the http verbs -->
        <input type="hidden" name="_method" value="<%= method %>">

        <div class="form-group mb-3">
            <label for="firstName" class="form-label">First Name</label>
            <input type="text" name="firstName" id="firstName" class="form-control" required value="<%= firstName %>">
        </div>

        <div class="form-group mb-3">
            <label for="lastName" class="form-label">Last Name</label>
            <input type="text" name="lastName" id="lastName" class="form-control" required value="<%= lastName %>">
        </div>

        <div class="form-group mb-3">
            <label for="nickName" class="form-label">Nick Name</label>
            <input type="text" name="nickName" id="nickName" class="form-control" required value="<%= nickName %>">
        </div>

        <div class="form-group mb-3">
            <label for="email" class="form-label">Email</label>
            <input type="email" name="email" id="email" class="form-control" required value="<%= email %>">
        </div>

        <div class="form-group mb-3">
            <label for="password" class="form-label">Password</label>
            <input type="password" name="password" id="password" class="form-control" required>
        </div>

        <div class="form-group mb-3">
            <label for="avatar" class="form-label">Avatar</label>
            <input type="file" name="avatar" id="avatar" class="form-control" value="<%= avatar %>">
        </div>


        <button type="submit" class="btn btn-primary">Submit</button>
    </form>